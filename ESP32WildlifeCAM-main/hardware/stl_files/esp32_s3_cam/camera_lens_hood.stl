solid camera_lens_hood
  comment Lens protection and glare reduction for ESP32-S3-CAM
  comment Dimensions: 30mm outer diameter, 12mm inner opening, 20mm depth
  comment Features: UV protection, rain shield, removable design
  comment Material: ASA or PETG for UV resistance
  comment Print settings: 0.15mm layer height, 20% infill

  // Outer cylinder (30mm diameter, 20mm height)
  // Creating hexagonal approximation for printability
  
  // Bottom face (mounting ring)
  facet normal 0.0 0.0 -1.0
    outer loop
      vertex 0.0 15.0 0.0
      vertex 13.0 7.5 0.0
      vertex 13.0 -7.5 0.0
    endloop
  endfacet
  facet normal 0.0 0.0 -1.0
    outer loop
      vertex 0.0 15.0 0.0
      vertex 13.0 -7.5 0.0
      vertex 0.0 -15.0 0.0
    endloop
  endfacet
  facet normal 0.0 0.0 -1.0
    outer loop
      vertex 0.0 -15.0 0.0
      vertex 13.0 -7.5 0.0
      vertex -13.0 -7.5 0.0
    endloop
  endfacet
  facet normal 0.0 0.0 -1.0
    outer loop
      vertex 0.0 -15.0 0.0
      vertex -13.0 -7.5 0.0
      vertex -13.0 7.5 0.0
    endloop
  endfacet
  facet normal 0.0 0.0 -1.0
    outer loop
      vertex 0.0 -15.0 0.0
      vertex -13.0 7.5 0.0
      vertex 0.0 15.0 0.0
    endloop
  endfacet
  facet normal 0.0 0.0 -1.0
    outer loop
      vertex 0.0 15.0 0.0
      vertex -13.0 7.5 0.0
      vertex 13.0 7.5 0.0
    endloop
  endfacet

  // Inner lens opening (12mm diameter)
  // Creating octagonal opening for lens
  facet normal 0.0 0.0 -1.0
    outer loop
      vertex 0.0 6.0 0.0
      vertex 4.24 4.24 0.0
      vertex 6.0 0.0 0.0
    endloop
  endfacet
  facet normal 0.0 0.0 -1.0
    outer loop
      vertex 0.0 6.0 0.0
      vertex 6.0 0.0 0.0
      vertex 4.24 -4.24 0.0
    endloop
  endfacet
  facet normal 0.0 0.0 -1.0
    outer loop
      vertex 0.0 6.0 0.0
      vertex 4.24 -4.24 0.0
      vertex 0.0 -6.0 0.0
    endloop
  endfacet
  facet normal 0.0 0.0 -1.0
    outer loop
      vertex 0.0 6.0 0.0
      vertex 0.0 -6.0 0.0
      vertex -4.24 -4.24 0.0
    endloop
  endfacet
  facet normal 0.0 0.0 -1.0
    outer loop
      vertex 0.0 6.0 0.0
      vertex -4.24 -4.24 0.0
      vertex -6.0 0.0 0.0
    endloop
  endfacet
  facet normal 0.0 0.0 -1.0
    outer loop
      vertex 0.0 6.0 0.0
      vertex -6.0 0.0 0.0
      vertex -4.24 4.24 0.0
    endloop
  endfacet

  // Top face (rain shield with slight overhang)
  facet normal 0.0 0.0 1.0
    outer loop
      vertex 0.0 17.0 20.0
      vertex 14.7 8.5 20.0
      vertex 14.7 -8.5 20.0
    endloop
  endfacet
  facet normal 0.0 0.0 1.0
    outer loop
      vertex 0.0 17.0 20.0
      vertex 14.7 -8.5 20.0
      vertex 0.0 -17.0 20.0
    endloop
  endfacet
  facet normal 0.0 0.0 1.0
    outer loop
      vertex 0.0 -17.0 20.0
      vertex 14.7 -8.5 20.0
      vertex -14.7 -8.5 20.0
    endloop
  endfacet
  facet normal 0.0 0.0 1.0
    outer loop
      vertex 0.0 -17.0 20.0
      vertex -14.7 -8.5 20.0
      vertex -14.7 8.5 20.0
    endloop
  endfacet
  facet normal 0.0 0.0 1.0
    outer loop
      vertex 0.0 -17.0 20.0
      vertex -14.7 8.5 20.0
      vertex 0.0 17.0 20.0
    endloop
  endfacet
  facet normal 0.0 0.0 1.0
    outer loop
      vertex 0.0 17.0 20.0
      vertex -14.7 8.5 20.0
      vertex 14.7 8.5 20.0
    endloop
  endfacet

  // Outer wall segments (hexagonal sides)
  // Side 1 (front-right)
  facet normal 0.866 0.5 0.0
    outer loop
      vertex 13.0 7.5 0.0
      vertex 14.7 8.5 20.0
      vertex 14.7 -8.5 20.0
    endloop
  endfacet
  facet normal 0.866 0.5 0.0
    outer loop
      vertex 13.0 7.5 0.0
      vertex 14.7 -8.5 20.0
      vertex 13.0 -7.5 0.0
    endloop
  endfacet

  // Side 2 (right)
  facet normal 0.866 -0.5 0.0
    outer loop
      vertex 13.0 -7.5 0.0
      vertex 14.7 -8.5 20.0
      vertex 0.0 -17.0 20.0
    endloop
  endfacet
  facet normal 0.866 -0.5 0.0
    outer loop
      vertex 13.0 -7.5 0.0
      vertex 0.0 -17.0 20.0
      vertex 0.0 -15.0 0.0
    endloop
  endfacet

  // Side 3 (back-right)
  facet normal 0.0 -1.0 0.0
    outer loop
      vertex 0.0 -15.0 0.0
      vertex 0.0 -17.0 20.0
      vertex -14.7 -8.5 20.0
    endloop
  endfacet
  facet normal 0.0 -1.0 0.0
    outer loop
      vertex 0.0 -15.0 0.0
      vertex -14.7 -8.5 20.0
      vertex -13.0 -7.5 0.0
    endloop
  endfacet

  // Side 4 (back-left)
  facet normal -0.866 -0.5 0.0
    outer loop
      vertex -13.0 -7.5 0.0
      vertex -14.7 -8.5 20.0
      vertex -14.7 8.5 20.0
    endloop
  endfacet
  facet normal -0.866 -0.5 0.0
    outer loop
      vertex -13.0 -7.5 0.0
      vertex -14.7 8.5 20.0
      vertex -13.0 7.5 0.0
    endloop
  endfacet

  // Side 5 (left)
  facet normal -0.866 0.5 0.0
    outer loop
      vertex -13.0 7.5 0.0
      vertex -14.7 8.5 20.0
      vertex 0.0 17.0 20.0
    endloop
  endfacet
  facet normal -0.866 0.5 0.0
    outer loop
      vertex -13.0 7.5 0.0
      vertex 0.0 17.0 20.0
      vertex 0.0 15.0 0.0
    endloop
  endfacet

  // Side 6 (front-left)
  facet normal 0.0 1.0 0.0
    outer loop
      vertex 0.0 15.0 0.0
      vertex 0.0 17.0 20.0
      vertex 14.7 8.5 20.0
    endloop
  endfacet
  facet normal 0.0 1.0 0.0
    outer loop
      vertex 0.0 15.0 0.0
      vertex 14.7 8.5 20.0
      vertex 13.0 7.5 0.0
    endloop
  endfacet

  // Inner wall segments (lens opening sides)
  // Creating tapered opening for better light management
  // Inner side 1
  facet normal 0.707 0.707 0.0
    outer loop
      vertex 4.24 4.24 0.0
      vertex 5.0 5.0 20.0
      vertex 6.0 0.0 20.0
    endloop
  endfacet
  facet normal 0.707 0.707 0.0
    outer loop
      vertex 4.24 4.24 0.0
      vertex 6.0 0.0 20.0
      vertex 6.0 0.0 0.0
    endloop
  endfacet

  // Inner side 2
  facet normal 1.0 0.0 0.0
    outer loop
      vertex 6.0 0.0 0.0
      vertex 6.0 0.0 20.0
      vertex 5.0 -5.0 20.0
    endloop
  endfacet
  facet normal 1.0 0.0 0.0
    outer loop
      vertex 6.0 0.0 0.0
      vertex 5.0 -5.0 20.0
      vertex 4.24 -4.24 0.0
    endloop
  endfacet

  // Inner side 3
  facet normal 0.707 -0.707 0.0
    outer loop
      vertex 4.24 -4.24 0.0
      vertex 5.0 -5.0 20.0
      vertex 0.0 -6.0 20.0
    endloop
  endfacet
  facet normal 0.707 -0.707 0.0
    outer loop
      vertex 4.24 -4.24 0.0
      vertex 0.0 -6.0 20.0
      vertex 0.0 -6.0 0.0
    endloop
  endfacet

  // Inner side 4
  facet normal 0.0 -1.0 0.0
    outer loop
      vertex 0.0 -6.0 0.0
      vertex 0.0 -6.0 20.0
      vertex -5.0 -5.0 20.0
    endloop
  endfacet
  facet normal 0.0 -1.0 0.0
    outer loop
      vertex 0.0 -6.0 0.0
      vertex -5.0 -5.0 20.0
      vertex -4.24 -4.24 0.0
    endloop
  endfacet

  // Inner side 5
  facet normal -0.707 -0.707 0.0
    outer loop
      vertex -4.24 -4.24 0.0
      vertex -5.0 -5.0 20.0
      vertex -6.0 0.0 20.0
    endloop
  endfacet
  facet normal -0.707 -0.707 0.0
    outer loop
      vertex -4.24 -4.24 0.0
      vertex -6.0 0.0 20.0
      vertex -6.0 0.0 0.0
    endloop
  endfacet

  // Inner side 6
  facet normal -1.0 0.0 0.0
    outer loop
      vertex -6.0 0.0 0.0
      vertex -6.0 0.0 20.0
      vertex -5.0 5.0 20.0
    endloop
  endfacet
  facet normal -1.0 0.0 0.0
    outer loop
      vertex -6.0 0.0 0.0
      vertex -5.0 5.0 20.0
      vertex -4.24 4.24 0.0
    endloop
  endfacet

  // Inner side 7
  facet normal -0.707 0.707 0.0
    outer loop
      vertex -4.24 4.24 0.0
      vertex -5.0 5.0 20.0
      vertex 0.0 6.0 20.0
    endloop
  endfacet
  facet normal -0.707 0.707 0.0
    outer loop
      vertex -4.24 4.24 0.0
      vertex 0.0 6.0 20.0
      vertex 0.0 6.0 0.0
    endloop
  endfacet

  // Inner side 8
  facet normal 0.0 1.0 0.0
    outer loop
      vertex 0.0 6.0 0.0
      vertex 0.0 6.0 20.0
      vertex 5.0 5.0 20.0
    endloop
  endfacet
  facet normal 0.0 1.0 0.0
    outer loop
      vertex 0.0 6.0 0.0
      vertex 5.0 5.0 20.0
      vertex 4.24 4.24 0.0
    endloop
  endfacet

endsolid camera_lens_hood